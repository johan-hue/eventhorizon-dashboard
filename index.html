<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LA VOZ DE TODOS - Panel de Administración</title>
    <meta name="description" content="Panel de administración para la gestión comunitaria de noticias y eventos">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Login Container -->
    <div class="login-page" id="loginPage">
        <div class="login-container" id="loginContainer">
            <!-- Sign Up Form -->
            <div class="form-container sign-up">
                <form>
                    <h1>Crear cuenta</h1>
                    <span>usa tu email para el registro</span>
                    <input type="text" placeholder="Nombre">
                    <input type="email" placeholder="Email">
                    <input type="password" placeholder="Contraseña">
                    <button type="button" onclick="handleRegister()">Regístrate</button>
                </form>
            </div>

            <!-- Sign In Form -->
            <div class="form-container sign-in">
                <form>
                    <h1>Iniciar sesión</h1>
                    <span>usa la contraseña de tu email</span>
                    <input type="email" placeholder="Email" id="loginEmail">
                    <input type="password" placeholder="Contraseña" id="loginPassword">
                    <a href="#" onclick="showForgotPassword()">¿Olvidaste tu contraseña?</a>
                    <button type="button" onclick="handleLogin()">Iniciar sesión</button>
                </form>
            </div>

            <!-- Toggle Container -->
            <div class="toggle-container">
                <div class="toggle">
                    <div class="toggle-panel toggle-left">
                        <h1>¡Bienvenido de nuevo!</h1>
                        <p>Ingrese sus datos personales para utilizar todas las funciones del sitio</p>
                        <button class="hidden" id="loginBtn" onclick="showLogin()">Iniciar sesión</button>
                    </div>
                    <div class="toggle-panel toggle-right">
                        <h1>¡Hola, vecino!</h1>
                        <p>Regístrate con tus datos personales para usar todas las funciones del sitio</p>
                        <button class="hidden" id="registerBtn" onclick="showRegister()">Regístrate</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container" id="dashboardContainer" style="display: none;">
        <!-- Navigation Header -->
        <header class="dashboard-gradient header-nav">
            <div class="nav-container">
                <div class="nav-content">
                    <!-- Logo/Brand -->
                    <div class="brand-section">
                        <div class="brand-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h1 class="brand-title">Administrador</h1>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <nav class="desktop-nav">
                        <button class="nav-item active" data-page="dashboard" onclick="showPage('dashboard')">
                            <i class="fas fa-home"></i> INICIO
                        </button>
                        <button class="nav-item" data-page="news" onclick="showPage('news')">
                            <i class="fas fa-newspaper"></i> NOTICIAS
                        </button>
                        <button class="nav-item" data-page="events" onclick="showPage('events')">
                            <i class="fas fa-calendar"></i> EVENTOS
                        </button>
                        <button class="nav-item" data-page="users" onclick="showPage('users')">
                            <i class="fas fa-user-plus"></i> CREAR USUARIOS
                        </button>
                    </nav>

                    <!-- Profile Icon -->
                    <div class="profile-icon" onclick="toggleProfileModal()">
                        <i class="fas fa-user"></i>
                    </div>
                </div>

                <!-- Mobile Navigation -->
                <nav class="mobile-nav">
                    <button class="nav-item-mobile active" data-page="dashboard" onclick="showPage('dashboard')">
                        <i class="fas fa-home"></i> INICIO
                    </button>
                    <button class="nav-item-mobile" data-page="news" onclick="showPage('news')">
                        <i class="fas fa-newspaper"></i> NOTICIAS
                    </button>
                    <button class="nav-item-mobile" data-page="events" onclick="showPage('events')">
                        <i class="fas fa-calendar"></i> EVENTOS
                    </button>
                    <button class="nav-item-mobile" data-page="users" onclick="showPage('users')">
                        <i class="fas fa-user-plus"></i> CREAR USUARIOS
                    </button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div class="page-content" id="dashboardPage">
                <div class="page-container">
                    <header class="page-header">
                        <h1 class="page-title">Panel de Administración</h1>
                        <p class="page-subtitle">Gestión comunitaria de noticias y eventos</p>
                    </header>

                    <!-- Statistics Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-number" id="totalNews">12</h3>
                                    <p class="stat-label">Total Noticias</p>
                                </div>
                                <div class="stat-icon news-icon">
                                    <i class="fas fa-newspaper"></i>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-number" id="pendingNews">3</h3>
                                    <p class="stat-label">Noticias Pendientes</p>
                                </div>
                                <div class="stat-icon pending-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-number" id="inProgressNews">5</h3>
                                    <p class="stat-label">En Proceso</p>
                                </div>
                                <div class="stat-icon progress-icon">
                                    <i class="fas fa-cog fa-spin"></i>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-number" id="upcomingEvents">8</h3>
                                    <p class="stat-label">Próximos Eventos</p>
                                </div>
                                <div class="stat-icon events-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Content Sections -->
                    <div class="content-grid">
                        <!-- Recent News -->
                        <section class="content-section">
                            <div class="section-header">
                                <h2>Próximas Noticias</h2>
                                <button onclick="showPage('news')" class="view-all-btn">Ver todas</button>
                            </div>
                            <div class="news-list" id="recentNewsList">
                                <!-- News items will be populated by JavaScript -->
                            </div>
                        </section>

                        <!-- Upcoming Events -->
                        <section class="content-section">
                            <div class="section-header">
                                <h2>Próximos Eventos</h2>
                                <button onclick="showPage('events')" class="view-all-btn">Ver todos</button>
                            </div>
                            <div class="events-list" id="upcomingEventsList">
                                <!-- Event items will be populated by JavaScript -->
                            </div>
                        </section>
                    </div>
                </div>
            </div>

            <!-- News Page -->
            <div class="page-content" id="newsPage" style="display: none;">
                <div class="page-container">
                    <header class="page-header">
                        <h1 class="page-title">Gestión de Noticias</h1>
                    </header>

                    <!-- Search and Filters -->
                    <div class="search-filter-container">
                        <div class="search-input-container">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" placeholder="Buscar por título..." class="search-input" id="newsSearch" onkeyup="filterNews()">
                        </div>
                        <div class="filter-container">
                            <i class="fas fa-filter filter-icon"></i>
                            <select class="filter-select" id="newsStatusFilter" onchange="filterNews()">
                                <option value="all">Todos</option>
                                <option value="pendiente">Pendiente</option>
                                <option value="en-proceso">En Proceso</option>
                                <option value="resuelto">Resuelto</option>
                            </select>
                        </div>
                    </div>

                    <!-- News Grid -->
                    <div class="news-grid" id="newsGrid">
                        <!-- News items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Events Page -->
            <div class="page-content" id="eventsPage" style="display: none;">
                <div class="page-container">
                    <header class="page-header">
                        <h1 class="page-title">Gestión de Eventos</h1>
                    </header>

                    <!-- Search and Filters -->
                    <div class="search-filter-container">
                        <div class="search-input-container">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" placeholder="Buscar eventos..." class="search-input" id="eventsSearch" onkeyup="filterEvents()">
                        </div>
                    </div>

                    <!-- Events Grid -->
                    <div class="events-grid" id="eventsGrid">
                        <!-- Event items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Users Page -->
            <div class="page-content" id="usersPage" style="display: none;">
                <div class="page-container">
                    <header class="page-header">
                        <h1 class="page-title">Crear Usuario</h1>
                        <p class="page-subtitle">Registro de nuevos usuarios del sistema</p>
                    </header>

                    <div class="form-card">
                        <form id="userForm" onsubmit="createUser(event)">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Nombre y Apellidos:</label>
                                    <input type="text" id="userName" required placeholder="Ingresa el nombre completo">
                                </div>
                                
                                <div class="form-group">
                                    <label>DNI:</label>
                                    <input type="text" id="userDNI" required placeholder="12345678">
                                </div>
                                
                                <div class="form-group">
                                    <label>Teléfono:</label>
                                    <input type="tel" id="userPhone" required placeholder="+51 999 999 999">
                                </div>
                                
                                <div class="form-group">
                                    <label>Fecha de Nacimiento:</label>
                                    <input type="date" id="userBirth" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>Correo Electrónico:</label>
                                    <input type="email" id="userEmail" required placeholder="usuario@email.com">
                                </div>
                                
                                <div class="form-group">
                                    <label>Contraseña:</label>
                                    <input type="password" id="userPassword" required placeholder="Mínimo 8 caracteres">
                                </div>
                                
                                <div class="form-group">
                                    <label>Rol:</label>
                                    <select id="userRole" required>
                                        <option value="">Seleccionar rol</option>
                                        <option value="admin">Administrador</option>
                                        <option value="moderator">Moderador</option>
                                        <option value="user">Usuario</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" onclick="clearForm()">Limpiar</button>
                                <button type="submit" class="btn-primary">Crear Usuario</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Profile Modal -->
    <div class="modal-overlay" id="profileModal" onclick="closeProfileModal()">
        <div class="modal-content profile-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>Perfil de Usuario</h3>
                <button class="modal-close" onclick="closeProfileModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="profile-info">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-details">
                        <h4>Juan Administrador</h4>
                        <p>admin@lavozdetodos.com</p>
                        <span class="profile-role">Administrador</span>
                    </div>
                </div>
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-value">12</span>
                        <span class="stat-label">Noticias Gestionadas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">8</span>
                        <span class="stat-label">Eventos Creados</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeProfileModal()">Cerrar</button>
                <button class="btn-danger" onclick="logout()">Cerrar Sesión</button>
            </div>
        </div>
    </div>

    <!-- News Detail Modal -->
    <div class="modal-overlay" id="newsModal" onclick="closeNewsModal()">
        <div class="modal-content news-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="newsModalTitle">Título de la Noticia</h3>
                <button class="modal-close" onclick="closeNewsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="news-details" id="newsModalContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
            <div class="modal-footer news-modal-footer">
                <button class="btn-info" onclick="showNewsDetail()">Ver Detalle</button>
                <button class="btn-primary" onclick="showNewsResponse()">Responder</button>
                <button class="btn-success" onclick="downloadNews()">Descargar</button>
                <button class="btn-danger" onclick="deleteNews()">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Event Detail Modal -->
    <div class="modal-overlay" id="eventModal" onclick="closeEventModal()">
        <div class="modal-content event-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="eventModalTitle">Título del Evento</h3>
                <button class="modal-close" onclick="closeEventModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="event-details" id="eventModalContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-success" onclick="downloadEvent()">Descargar</button>
                <button class="btn-danger" onclick="deleteEvent()">Eliminar</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
